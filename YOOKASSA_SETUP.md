# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–ø–ª–∞—Ç—ã —á–µ—Ä–µ–∑ –Æ–ö–∞—Å—Å—É (–Ø–Ω–¥–µ–∫—Å.–ö–∞—Å—Å–∞)

–≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç –æ–ø–∏—Å—ã–≤–∞–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –ø–ª–∞—Ç–µ–∂–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã –Æ–ö–∞—Å—Å–∞ –∫ –≤–∞—à–µ–º—É —Å–∞–π—Ç—É AirShop.

## üìã –ß—Ç–æ —É–∂–µ –≥–æ—Ç–æ–≤–æ

–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –Æ–ö–∞—Å—Å–æ–π –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω–∞ –∏ –≤–∫–ª—é—á–∞–µ—Ç:

- ‚úÖ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ API
- ‚úÖ –£—Ç–∏–ª–∏—Ç—ã –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –ø–ª–∞—Ç–µ–∂–µ–π
- ‚úÖ –°—Ç—Ä–∞–Ω–∏—Ü—ã —É—Å–ø–µ—à–Ω–æ–π –∏ –Ω–µ—É–¥–∞—á–Ω–æ–π –æ–ø–ª–∞—Ç—ã
- ‚úÖ UI –¥–ª—è –≤—ã–±–æ—Ä–∞ —Å–ø–æ—Å–æ–±–∞ –æ–ø–ª–∞—Ç—ã (–∫–∞—Ä—Ç–∞, –°–ë–ü, –Ω–∞–ª–∏—á–Ω—ã–µ)
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —á–µ–∫–æ–≤ –¥–ª—è 54-–§–ó
- ‚úÖ –¢–µ—Å—Ç–æ–≤—ã–π —Ä–µ–∂–∏–º –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –≤ –Æ–ö–∞—Å—Å–µ

1. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å –Ω–∞ [yookassa.ru](https://yookassa.ru/)
2. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ —é—Ä–∏–¥–∏—á–µ—Å–∫–æ–µ –ª–∏—Ü–æ –∏–ª–∏ –ò–ü
3. –ü–æ–ª—É—á–∏—Ç–µ –¥–æ—Å—Ç—É–ø –∫ –ª–∏—á–Ω–æ–º—É –∫–∞–±–∏–Ω–µ—Ç—É
4. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ —Ä–∞–∑–¥–µ–ª **–ù–∞—Å—Ç—Ä–æ–π–∫–∏ ‚Üí –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è**
5. –ü–æ–ª—É—á–∏—Ç–µ –≤–∞—à–∏ —Ä–µ–∫–≤–∏–∑–∏—Ç—ã:
   - **shopId** (ID –º–∞–≥–∞–∑–∏–Ω–∞)
   - **–°–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á** (Secret Key)

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ .env —Ñ–∞–π–ª–∞

1. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª `.env.example` –≤ `.env`:
   ```bash
   cp .env.example .env
   ```

2. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ —Å–≤–æ–∏ –¥–∞–Ω–Ω—ã–µ –≤ `.env`:
   ```env
   # –î–∞–Ω–Ω—ã–µ –æ—Ç –Æ–ö–∞—Å—Å—ã
   REACT_APP_YOOKASSA_SHOP_ID=–≤–∞—à_shop_id
   REACT_APP_YOOKASSA_SECRET_KEY=–≤–∞—à_—Å–µ–∫—Ä–µ—Ç–Ω—ã–π_–∫–ª—é—á

   # –†–µ–∂–∏–º —Ä–∞–±–æ—Ç—ã (test –∏–ª–∏ production)
   REACT_APP_PAYMENT_MODE=test
   ```

### 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –≤ –Æ–ö–∞—Å—Å–µ

–í –ª–∏—á–Ω–æ–º –∫–∞–±–∏–Ω–µ—Ç–µ –Æ–ö–∞—Å—Å—ã —É–∫–∞–∂–∏—Ç–µ URL –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π:
- **URL –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π**: `https://–≤–∞—à-—Å–∞–π—Ç.ru/api/payment/webhook`

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–°–µ–π—á–∞—Å —Å–∞–π—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ **—Ç–µ—Å—Ç–æ–≤–æ–º —Ä–µ–∂–∏–º–µ**. –ü—Ä–∏ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–∏ –∑–∞–∫–∞–∑–∞:
- –í—ã —É–≤–∏–¥–∏—Ç–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Å–æ–∑–¥–∞–Ω–Ω–æ–º –ø–ª–∞—Ç–µ–∂–µ –≤ –∫–æ–Ω—Å–æ–ª–∏
- –î–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ
- –ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ —Ä–µ–∞–ª—å–Ω—É—é –ø–ª–∞—Ç–µ–∂–Ω—É—é —Ñ–æ—Ä–º—É –Ω–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç

### –¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ (–∫–æ–≥–¥–∞ –Ω–∞—Å—Ç—Ä–æ–∏—Ç–µ production):

**–£—Å–ø–µ—à–Ω–∞—è –æ–ø–ª–∞—Ç–∞:**
- –ù–æ–º–µ—Ä –∫–∞—Ä—Ç—ã: `5555 5555 5555 4444`
- –°—Ä–æ–∫: –ª—é–±–æ–π –±—É–¥—É—â–∏–π –º–µ—Å—è—Ü/–≥–æ–¥
- CVC: –ª—é–±—ã–µ 3 —Ü–∏—Ñ—Ä—ã

**–û—Ç–∫–ª–æ–Ω–µ–Ω–Ω–∞—è –æ–ø–ª–∞—Ç–∞:**
- –ù–æ–º–µ—Ä –∫–∞—Ä—Ç—ã: `5555 5555 5555 5599`

–ü–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫ —Ç–µ—Å—Ç–æ–≤—ã—Ö –∫–∞—Ä—Ç: [–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –Æ–ö–∞—Å—Å—ã](https://yookassa.ru/developers/payment-acceptance/testing-and-going-live/testing)

## ‚öôÔ∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤

```
src/
‚îú‚îÄ‚îÄ config/
‚îÇ   ‚îî‚îÄ‚îÄ payment.js              # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –Æ–ö–∞—Å—Å–∞ API
‚îú‚îÄ‚îÄ utils/
‚îÇ   ‚îî‚îÄ‚îÄ payment.js              # –£—Ç–∏–ª–∏—Ç—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ø–ª–∞—Ç–µ–∂–∞–º–∏
‚îú‚îÄ‚îÄ pages/
‚îÇ   ‚îú‚îÄ‚îÄ Checkout.jsx            # –°—Ç—Ä–∞–Ω–∏—Ü–∞ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è –∑–∞–∫–∞–∑–∞
‚îÇ   ‚îú‚îÄ‚îÄ PaymentSuccess.jsx      # –°—Ç—Ä–∞–Ω–∏—Ü–∞ —É—Å–ø–µ—à–Ω–æ–π –æ–ø–ª–∞—Ç—ã
‚îÇ   ‚îî‚îÄ‚îÄ PaymentFail.jsx         # –°—Ç—Ä–∞–Ω–∏—Ü–∞ –æ—à–∏–±–∫–∏ –æ–ø–ª–∞—Ç—ã
‚îî‚îÄ‚îÄ App.jsx                     # –†–æ—É—Ç—ã –¥–ª—è –ø–ª–∞—Ç–µ–∂–Ω—ã—Ö —Å—Ç—Ä–∞–Ω–∏—Ü
```

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–ª—è Production

### –í–ê–ñ–ù–û: Backend Required!

‚ö†Ô∏è **–î–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞ –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –Ω—É–∂–µ–Ω backend-—Å–µ—Ä–≤–µ—Ä!**

–ù–µ —Ö—Ä–∞–Ω–∏—Ç–µ —Å–µ–∫—Ä–µ—Ç–Ω—ã–µ –∫–ª—é—á–∏ –≤ frontend –∫–æ–¥–µ!

### –°–æ–∑–¥–∞–Ω–∏–µ Backend API

–ù–µ–æ–±—Ö–æ–¥–∏–º–æ —Å–æ–∑–¥–∞—Ç—å —Å–ª–µ–¥—É—é—â–∏–µ endpoints:

#### 1. –°–æ–∑–¥–∞–Ω–∏–µ –ø–ª–∞—Ç–µ–∂–∞
```
POST /api/payment/create
```

**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:**
```json
{
  "amount": {
    "value": "100.00",
    "currency": "RUB"
  },
  "description": "–ó–∞–∫–∞–∑ ‚Ññ12345",
  "capture": true,
  "confirmation": {
    "type": "redirect",
    "return_url": "https://yoursite.com/payment/success"
  },
  "receipt": {
    "customer": {
      "email": "user@example.com",
      "phone": "+79991234567"
    },
    "items": [
      {
        "description": "–¢–æ–≤–∞—Ä",
        "quantity": "1",
        "amount": {
          "value": "100.00",
          "currency": "RUB"
        },
        "vat_code": 1
      }
    ]
  }
}
```

**–û—Ç–≤–µ—Ç:**
```json
{
  "success": true,
  "payment_id": "abc123-def456",
  "confirmation_url": "https://yoomoney.ru/checkout/payments/v2/contract?...",
  "status": "pending"
}
```

#### 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
```
GET /api/payment/status/:paymentId
```

**–û—Ç–≤–µ—Ç:**
```json
{
  "success": true,
  "status": "succeeded",
  "payment_id": "abc123-def456",
  "amount": {
    "value": "100.00",
    "currency": "RUB"
  }
}
```

#### 3. Webhook –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
```
POST /api/payment/webhook
```

–≠—Ç–æ—Ç endpoint –±—É–¥–µ—Ç –ø–æ–ª—É—á–∞—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ—Ç –Æ–ö–∞—Å—Å—ã –æ —Å—Ç–∞—Ç—É—Å–µ –ø–ª–∞—Ç–µ–∂–µ–π.

### –ü—Ä–∏–º–µ—Ä Backend (Node.js + Express)

```javascript
// server.js
const express = require('express');
const axios = require('axios');
const crypto = require('crypto');

const app = express();
app.use(express.json());

const YOOKASSA_CONFIG = {
  shopId: process.env.YOOKASSA_SHOP_ID,
  secretKey: process.env.YOOKASSA_SECRET_KEY,
  apiUrl: 'https://api.yookassa.ru/v3'
};

// –ë–∞–∑–æ–≤–∞—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –¥–ª—è API –Æ–ö–∞—Å—Å—ã
const getAuthHeader = () => {
  const credentials = Buffer.from(
    `${YOOKASSA_CONFIG.shopId}:${YOOKASSA_CONFIG.secretKey}`
  ).toString('base64');
  return `Basic ${credentials}`;
};

// –°–æ–∑–¥–∞–Ω–∏–µ –ø–ª–∞—Ç–µ–∂–∞
app.post('/api/payment/create', async (req, res) => {
  try {
    const idempotenceKey = crypto.randomUUID();

    const response = await axios.post(
      `${YOOKASSA_CONFIG.apiUrl}/payments`,
      req.body,
      {
        headers: {
          'Authorization': getAuthHeader(),
          'Idempotence-Key': idempotenceKey,
          'Content-Type': 'application/json'
        }
      }
    );

    res.json({
      success: true,
      payment_id: response.data.id,
      confirmation_url: response.data.confirmation.confirmation_url,
      status: response.data.status
    });
  } catch (error) {
    console.error('–û—à–∏–±–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è –ø–ª–∞—Ç–µ–∂–∞:', error.response?.data || error.message);
    res.status(500).json({
      success: false,
      error: error.response?.data?.description || error.message
    });
  }
});

// –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ –ø–ª–∞—Ç–µ–∂–∞
app.get('/api/payment/status/:paymentId', async (req, res) => {
  try {
    const response = await axios.get(
      `${YOOKASSA_CONFIG.apiUrl}/payments/${req.params.paymentId}`,
      {
        headers: {
          'Authorization': getAuthHeader()
        }
      }
    );

    res.json({
      success: true,
      status: response.data.status,
      payment_id: response.data.id,
      amount: response.data.amount
    });
  } catch (error) {
    console.error('–û—à–∏–±–∫–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å—Ç–∞—Ç—É—Å–∞:', error.response?.data || error.message);
    res.status(500).json({
      success: false,
      error: error.message
    });
  }
});

// Webhook –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –æ—Ç –Æ–ö–∞—Å—Å—ã
app.post('/api/payment/webhook', async (req, res) => {
  try {
    const notification = req.body;

    console.log('–ü–æ–ª—É—á–µ–Ω–æ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ—Ç –Æ–ö–∞—Å—Å—ã:', notification);

    // –û–±—Ä–∞–±–æ—Ç–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
    if (notification.event === 'payment.succeeded') {
      const payment = notification.object;

      // –ó–¥–µ—Å—å –æ–±–Ω–æ–≤–∏—Ç–µ —Å—Ç–∞—Ç—É—Å –∑–∞–∫–∞–∑–∞ –≤ –≤–∞—à–µ–π –ë–î
      console.log(`–ü–ª–∞—Ç–µ–∂ ${payment.id} —É—Å–ø–µ—à–Ω–æ –æ–ø–ª–∞—á–µ–Ω`);

      // –ü—Ä–∏–º–µ—Ä: updateOrderStatus(payment.metadata.order_id, 'paid');
    }

    if (notification.event === 'payment.canceled') {
      const payment = notification.object;
      console.log(`–ü–ª–∞—Ç–µ–∂ ${payment.id} –æ—Ç–º–µ–Ω–µ–Ω`);

      // –ü—Ä–∏–º–µ—Ä: updateOrderStatus(payment.metadata.order_id, 'canceled');
    }

    // –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –æ—Ç–≤–µ—á–∞–µ–º 200 OK
    res.status(200).send('OK');
  } catch (error) {
    console.error('–û—à–∏–±–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ webhook:', error);
    res.status(500).json({ error: error.message });
  }
});

const PORT = process.env.PORT || 3001;
app.listen(PORT, () => {
  console.log(`Payment API –∑–∞–ø—É—â–µ–Ω –Ω–∞ –ø–æ—Ä—Ç—É ${PORT}`);
});
```

### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ Frontend –¥–ª—è Production

–í —Ñ–∞–π–ª–µ `src/utils/payment.js` —Ä–∞—Å–∫–æ–º–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ –∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ä–µ–∞–ª—å–Ω—ã–µ API –∑–∞–ø—Ä–æ—Å—ã:

```javascript
// –í–º–µ—Å—Ç–æ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ —Ä–µ–∂–∏–º–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ:
const response = await fetch('/api/payment/create', {
  method: 'POST',
  headers: {
    'Content-Type': 'application/json',
    'Idempotence-Key': idempotenceKey
  },
  body: JSON.stringify(paymentData)
});

const result = await response.json();

if (result.success) {
  return {
    success: true,
    payment_id: result.payment_id,
    confirmation_url: result.confirmation_url,
    status: result.status
  };
}
```

## üìñ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –Æ–ö–∞—Å—Å—ã

–û—Ñ–∏—Ü–∏–∞–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:
- [–ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞](https://yookassa.ru/)
- [–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API](https://yookassa.ru/developers/api)
- [–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç](https://yookassa.ru/developers/payment-acceptance/getting-started/quick-start)
- [–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ](https://yookassa.ru/developers/payment-acceptance/testing-and-going-live/testing)

## üé® –°–ø–æ—Å–æ–±—ã –æ–ø–ª–∞—Ç—ã

–Æ–ö–∞—Å—Å–∞ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –º–Ω–æ–∂–µ—Å—Ç–≤–æ —Å–ø–æ—Å–æ–±–æ–≤ –æ–ø–ª–∞—Ç—ã:

1. **–ë–∞–Ω–∫–æ–≤—Å–∫–∏–µ –∫–∞—Ä—Ç—ã** - Visa, Mastercard, –ú–ò–†
2. **–ÆMoney** - —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω—ã–π –∫–æ—à–µ–ª–µ–∫
3. **–°–ë–ü** - –°–∏—Å—Ç–µ–º–∞ –±—ã—Å—Ç—Ä—ã—Ö –ø–ª–∞—Ç–µ–∂–µ–π
4. **–°–±–µ—Ä–±–∞–Ω–∫ –û–Ω–ª–∞–π–Ω**
5. **–ê–ª—å—Ñ–∞-–ö–ª–∏–∫**
6. **–¢–∏–Ω—å–∫–æ—Ñ—Ñ**
7. **QIWI Wallet**
8. **WebMoney**
9. **–ù–∞–ª–∏—á–Ω—ã–µ** - —á–µ—Ä–µ–∑ —Ç–µ—Ä–º–∏–Ω–∞–ª—ã

–ù–∞ —Å–∞–π—Ç–µ –¥–æ—Å—Ç—É–ø–Ω—ã 3 –æ—Å–Ω–æ–≤–Ω—ã—Ö –≤–∞—Ä–∏–∞–Ω—Ç–∞:
- **–ë–∞–Ω–∫–æ–≤—Å–∫–∞—è –∫–∞—Ä—Ç–∞** - –æ–Ω–ª–∞–π–Ω –æ–ø–ª–∞—Ç–∞ (–ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –≤—Å–µ –º–µ—Ç–æ–¥—ã –Æ–ö–∞—Å—Å—ã)
- **–°–ë–ü** - –æ–ø–ª–∞—Ç–∞ —á–µ—Ä–µ–∑ –°–∏—Å—Ç–µ–º—É –±—ã—Å—Ç—Ä—ã—Ö –ø–ª–∞—Ç–µ–∂–µ–π
- **–ü—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏** - –Ω–∞–ª–∏—á–Ω—ã–º–∏ –∏–ª–∏ –∫–∞—Ä—Ç–æ–π –∫—É—Ä—å–µ—Ä—É

## üí∞ –ö–æ–º–∏—Å—Å–∏–∏

–ö–æ–º–∏—Å—Å–∏–∏ –Æ–ö–∞—Å—Å—ã –∑–∞–≤–∏—Å—è—Ç –æ—Ç –≤–∞—à–µ–≥–æ —Ç–∞—Ä–∏—Ñ–∞:
- –û–±—ã—á–Ω–æ 2.8% - 3.5% –æ—Ç —Å—É–º–º—ã –ø–ª–∞—Ç–µ–∂–∞
- –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –∫–æ–º–∏—Å—Å–∏—è –ø—Ä–∏ –±–æ–ª—å—à–∏—Ö –æ–±–æ—Ä–æ—Ç–∞—Ö
- –î–ª—è –ò–ü –≤–æ–∑–º–æ–∂–Ω—ã —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —É—Å–ª–æ–≤–∏—è

–ê–∫—Ç—É–∞–ª—å–Ω—ã–µ —Ç–∞—Ä–∏—Ñ—ã: [yookassa.ru/fees](https://yookassa.ru/fees)

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- –í—Å–µ –ø–ª–∞—Ç–µ–∂–∏ –ø—Ä–æ—Ö–æ–¥—è—Ç —á–µ—Ä–µ–∑ –∑–∞—â–∏—â–µ–Ω–Ω—É—é —Ñ–æ—Ä–º—É –Æ–ö–∞—Å—Å—ã
- –°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è PCI DSS Level 1
- 3-D Secure –¥–ª—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –∑–∞—â–∏—Ç—ã
- –î–∞–Ω–Ω—ã–µ –∫–∞—Ä—Ç –Ω–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –Ω–∞ –≤–∞—à–µ–º —Å–µ—Ä–≤–µ—Ä–µ
- SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω –¥–ª—è production

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–ª–∏ –≤–æ–ø—Ä–æ—Å—ã:
- **Email**: cms@yoomoney.ru
- **–¢–µ–ª–µ—Ñ–æ–Ω**: 8 800 250-66-99
- **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**: https://yookassa.ru/developers
- **Telegram**: @yookassa_support

## ‚úÖ –ß–µ–∫–ª–∏—Å—Ç –ø–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º

- [ ] –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–ª–∏—Å—å –≤ –Æ–ö–∞—Å—Å–µ
- [ ] –ü–æ–ª—É—á–∏–ª–∏ shopId –∏ secretKey
- [ ] –ù–∞—Å—Ç—Ä–æ–∏–ª–∏ `.env` —Ñ–∞–π–ª
- [ ] –°–æ–∑–¥–∞–ª–∏ backend –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –ø–ª–∞—Ç–µ–∂–µ–π
- [ ] –ù–∞—Å—Ç—Ä–æ–∏–ª–∏ webhook URL –≤ –Æ–ö–∞—Å—Å–µ
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–ª–∏ –æ–ø–ª–∞—Ç—É —Ç–µ—Å—Ç–æ–≤—ã–º–∏ –∫–∞—Ä—Ç–∞–º–∏
- [ ] –ù–∞—Å—Ç—Ä–æ–∏–ª–∏ URLs –¥–ª—è success/fail —Å—Ç—Ä–∞–Ω–∏—Ü
- [ ] –£—Å—Ç–∞–Ω–æ–≤–∏–ª–∏ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç
- [ ] –ü—Ä–æ–≤–µ—Ä–∏–ª–∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ 54-–§–ó (–µ—Å–ª–∏ –Ω—É–∂–Ω–∞ –∫–∞—Å—Å–∞)
- [ ] –ü–µ—Ä–µ–∫–ª—é—á–∏–ª–∏ –Ω–∞ production —Ä–µ–∂–∏–º
- [ ] –ü—Ä–æ–≤–µ—Ä–∏–ª–∏ –≤—Å–µ —Å–ø–æ—Å–æ–±—ã –æ–ø–ª–∞—Ç—ã

## üêõ Troubleshooting

### –ü–ª–∞—Ç–µ–∂ –Ω–µ —Å–æ–∑–¥–∞–µ—Ç—Å—è
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å shopId –∏ secretKey
- –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ backend –∑–∞–ø—É—â–µ–Ω –∏ –¥–æ—Å—Ç—É–ø–µ–Ω
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –æ—à–∏–±–æ–∫
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ backend —Å–µ—Ä–≤–µ—Ä–∞

### –ù–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–µ—Ä–µ—Ö–æ–¥ –Ω–∞ —Ñ–æ—Ä–º—É –æ–ø–ª–∞—Ç—ã
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ `REACT_APP_PAYMENT_MODE=production`
- –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ backend –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π `confirmation_url`
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω

### Webhook –Ω–µ –ø–æ–ª—É—á–∞–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
- –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ URL —É–∫–∞–∑–∞–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –Æ–ö–∞—Å—Å—ã
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ endpoint –¥–æ—Å—Ç—É–ø–µ–Ω –∏–∑–≤–Ω–µ (–Ω–µ localhost)
- –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ webhook –æ—Ç–≤–µ—á–∞–µ—Ç —Å—Ç–∞—Ç—É—Å–æ–º 200

### –û—à–∏–±–∫–∞ "Backend –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω"
- –≠—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ –≤ —Ç–µ—Å—Ç–æ–≤–æ–º —Ä–µ–∂–∏–º–µ
- –°–æ–∑–¥–∞–π—Ç–µ backend API endpoints –∫–∞–∫ –æ–ø–∏—Å–∞–Ω–æ –≤—ã—à–µ
- –û–±–Ω–æ–≤–∏—Ç–µ frontend –∫–æ–¥ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Ä–µ–∞–ª—å–Ω—ã–º API

## üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –Ω–∞ production

1. –°–º–µ–Ω–∏—Ç–µ —Ä–µ–∂–∏–º –≤ `.env`:
   ```env
   REACT_APP_PAYMENT_MODE=production
   ```

2. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ backend –∏—Å–ø–æ–ª—å–∑—É–µ—Ç production credentials

3. –û–±–Ω–æ–≤–∏—Ç–µ return_url –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–π –¥–æ–º–µ–Ω –≤–∞—à–µ–≥–æ —Å–∞–π—Ç–∞

4. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ —Å —Ä–µ–∞–ª—å–Ω–æ–π –∫–∞—Ä—Ç–æ–π –Ω–∞ –Ω–µ–±–æ–ª—å—à–æ–π —Å—É–º–º–µ

5. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø–ª–∞—Ç–µ–∂–µ–π

## üìä –û—Ç—á–µ—Ç–Ω–æ—Å—Ç—å

–í –ª–∏—á–Ω–æ–º –∫–∞–±–∏–Ω–µ—Ç–µ –Æ–ö–∞—Å—Å—ã –≤—ã –º–æ–∂–µ—Ç–µ:
- –ü—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å –≤—Å–µ –ø–ª–∞—Ç–µ–∂–∏
- –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –æ—Ç—á–µ—Ç—ã
- –î–µ–ª–∞—Ç—å –≤–æ–∑–≤—Ä–∞—Ç—ã
- –°–º–æ—Ç—Ä–µ—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
- –ù–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

---

**–ì–æ—Ç–æ–≤–æ!** –í–∞—à —Å–∞–π—Ç –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω –¥–ª—è –ø—Ä–∏–µ–º–∞ –ø–ª–∞—Ç–µ–∂–µ–π —á–µ—Ä–µ–∑ –Æ–ö–∞—Å—Å—É üéâ
